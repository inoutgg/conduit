
[TestDump/should_write_DDL_to_writer,_when_database_has_schema - 1]
CREATE TABLE "public"."posts" (
    "id" bigint NOT NULL GENERATED ALWAYS AS IDENTITY (INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START WITH 1 CACHE 1 NO CYCLE),
    "user_id" bigint NOT NULL,
    "title" text COLLATE "pg_catalog"."default" NOT NULL
);

CREATE UNIQUE INDEX posts_pkey ON public.posts USING btree (id);

ALTER TABLE "public"."posts" ADD CONSTRAINT "posts_pkey" PRIMARY KEY USING INDEX "posts_pkey";

CREATE TABLE "public"."users" (
    "id" bigint NOT NULL GENERATED ALWAYS AS IDENTITY (INCREMENT BY 1 MINVALUE 1 MAXVALUE 9223372036854775807 START WITH 1 CACHE 1 NO CYCLE),
    "name" text COLLATE "pg_catalog"."default" NOT NULL
);

CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id);

ALTER TABLE "public"."users" ADD CONSTRAINT "users_pkey" PRIMARY KEY USING INDEX "users_pkey";

ALTER TABLE "public"."posts" ADD CONSTRAINT "posts_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) NOT VALID;

ALTER TABLE "public"."posts" VALIDATE CONSTRAINT "posts_user_id_fkey";

---
